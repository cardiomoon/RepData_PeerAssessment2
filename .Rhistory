data=read.csv("repdata-data-StormData.csv")
data=read.csv("repdata-data-StormData.csv")
tail(data)
tapply(FATALITIES+INJURIES,EVTYPE,sum)
attach(data)
tapply(FATALITIES+INJURIES,EVTYPE,sum)
tapply(FATALITIES,EVTYPE,sum)
result=tapply(FATALITIES,EVTYPE,sum)
class(result)
str(result)
attributes(result)
head(result)
result$dim
result[dim]
result$dim
class(result)
result[1]
result[[1]]
str(result)
result1=result(order(result[[1]]))
result1=result[order(result[[1]])]
head(result1)
tail(result1)
result$dim
str(result)
result
str(result)
dfrm=data.frame(FATALITIES=result)
rownames(dfrm)=dimnames(result)
tail(dfrm)
str(dfrm)
data1=data.frame(FATALITIES=result)
tail(data1)
str(data1)
data1=data1[order(data1$FATALITIES,decreasing=TRUE)]
head(data1)
data1=data1[order(data1$FATALITIES,decreasing=TRUE),]
head(data1)
head(data1,10)
str(data1)
colnames(data1)
data1=data.frame(FATALITIES=result)
tail(data1)
str(data1)
colnames(data1)
data1=data1[order(data1$FATALITIES,decreasing=TRUE),]
head(data1,10)
colnames(data1)
data1=data.frame(FATALITIES=result)
tail(data1)
str(data1)
colnames(data1)
head(data1)
result=tapply(FATALITIES,EVTYPE,sum)
data1=data.frame(FATALITIES=result)
head(data1)
str(data)
result2=tapply(INJURIES,EVTYPE,sum))
data1=data.frame(FATALITIES=result,INJURIES=result2)
head(data1)
str(data1)
colnames(data1)
result2=tapply(INJURIES,EVTYPE,sum)
data1=data.frame(FATALITIES=result,INJURIES=result2)
head(data1)
str(data1)
colnames(data1)
data1=data1[order(data1$FATALITIES,data1$INJURIES,decreasing=TRUE),]
colnames(data1)
head(data1)
result3=tapply(PROPDMGEXP,EVTYPE,sum)
result4=tapply(CROPDMGEXP,EVTYPE,sum)
data1=data.frame(FATALITIES=result,INJURIES=result2,
PROPDMGEXP=result3,CROPDMGEXP=result4)
head(data1)
str(data1)
colnames(data1)
data1=data1[order(data1$FATALITIES,data1$INJURIES,decreasing=TRUE),]
head(data1)
result3=tapply(PROPDMG,EVTYPE,sum)
result4=tapply(CROPDMG,EVTYPE,sum)
data1=data.frame(FATALITIES=result,INJURIES=result2,
PROPDMG=result3,CROPDMG=result4)
head(data1)
str(data1)
colnames(data1)
data1=data1[order(data1$FATALITIES,data1$INJURIES,decreasing=TRUE),]
head(data1)
data2=data1[order(data1[c(3,4)],decreasing=TRUE),]
head(data2)
data2=data1[order(sum(data1[,3]+data1[,4]),decreasing=TRUE),]
head(data2)
data2=data1[order(data1$PROPDMG,data1$CROPDMG),decreasing=TRUE),]
head(data2)
head(data1)
data2=data1[order(data1$PROPDMG,data1$CROPDMG,decreasing=TRUE),]
head(data2)
data2$DMG=data1$PROPDMG+data1$CROPDMG
data2=data2[order(data2$DMG,decreasing=TRUE),]
head(data2)
data1=data.frame(FATALITIES=result,INJURIES=result2,
PROPDMG=result3,CROPDMG=result4)
data2=data1[order(data1$PROPDMG,data1$CROPDMG,decreasing=TRUE),]
head(data2)
data2$DMG=data1$PROPDMG+data1$CROPDMG
data2=data2[order(data2$DMG,decreasing=TRUE),]
head(data2)
data1=data.frame(FATALITIES=result,INJURIES=result2,
PROPDMG=result3,CROPDMG=result4)
head(data1)
str(data1)
colnames(data1)
data1=data1[order(data1$FATALITIES,data1$INJURIES,decreasing=TRUE),]
head(data1)
data2=data1[order(data1$PROPDMG,data1$CROPDMG,decreasing=TRUE),]
head(data2)
data2$DMG=data2$PROPDMG+data2$CROPDMG
data3=data2[order(data2$DMG,decreasing=TRUE),]
head(data3)
barplot(~FATALITIES+INJURIES,data=head(data1))
plot(FATALITIES+INJURIES,data=head(data1))
health=head(data1,10)
health
class(health)
plot(FATALITIES+INJURIES,data=health)
barplot(health$FATALITIES)
barplot(health$FATALITIES+health$INJURIES)
barplot(health$FATALITIES,health$INJURIES)
barplot(health[,c(1,2)])
barplot(health[c(1,2)])
barplot(health[c(1,2),])
health[,1:2]
barplot(health[,1:2])
barplot(health$FATALITIES)
as.matrix(health[,1:2])
barplot(as.matrix(health[,1:2]))
barplot(as.matrix(t(health[,1:2]))
)
barplot(health$FATALITIES)
barplot(health$INJURIES)
barplot(as.matrix(t(health[,1:2]),beside=TRUE)
barplot(as.matrix(t(health[,1:2])),beside=TRUE)
barplot(as.matrix(t(health[,1:2])),beside=TRUE)
barplot(health$FATALITIES)
barplot(health$INJURIES)
barplot(health$FATALITIES,col="red")
date=as.Date(data[1]$BGN_DATE)
data[1]$BGN_DATE
data[1,"BGN_DATE"]
date=as.POSIXct(data[1,"BGN_DATE"])
data[1,"BGN_DATE"]
class(data[1,"BGN_DATE"])
as.character(data[1,"BGN_DATE"])
date=as.POSIXct(as.character(data[1,"BGN_DATE"]))
date=as.POSIXct(as.character(data[1,"BGN_DATE"]))
install.packages("lubridate")
library(lubridate)
start=mdy_hms(data[1,"BGN_DATE"])
year(start)
month(start)
start=mdy_hms(data[1,"BGN_DATE"],tz=as.character(data[1,"TIME_ZONE"]))
year(start)
month(start)
start=mdy_hms(data[1,"BGN_DATE"])
year(start)
month(start)
tapply(yearmdy_hms(data[,"BGN_DATE"]),EVTYPE,,sum)
tapply(year(mdy_hms(data[,"BGN_DATE"])),EVTYPE,,sum)
start=mdy_hms(data$BGN_DATE)
data$start=mdy_hms(data$BGN_DATE)
tapply(year(data$start),EVTYPE,,sum)
tapply(year(data$start),EVTYPE,count)
xtabs(~year(data$start)+EVTYPE,data=data)
xtabs(~EVTYPE+month(data$start),data=data)
result5=xtabs(~EVTYPE+month(data$start),data=data)
head(result5)
class(result5)
addmargins(result5)
head(result5)
head(addmargins(result5))
result5=addmargins(result5)
result5=result5[order(result5$sum,decreasing=TRUE),]
result5=result5[order(result5["sum"],decreasing=TRUE),]
head(result5)
result5=xtabs(~EVTYPE+month(data$start),data=data)
head(result5)
class(result5)
result5=addmargins(result5)
head(result5)
result6=result5[order(result5[,sum],decreasing=TRUE),]
head(result6)
head(result5)
result5=data.frame(result5)
result6=result5[order(result5$sum,decreasing=TRUE),]
result5$sum
result5
head(result5)
result5=xtabs(~EVTYPE+month(data$start),data=data)
head(result5)
class(result5)
result5=addmargins(result5)
head(result5)
result5=data.frame(result5)
head(result5)
tail(result5)
str(result5)
result5=xtabs(~EVTYPE+month(data$start),data=data)
head(result5)
class(result5)
result5=addmargins(result5)
tail(result5)
str(result5)
result6=data.frame(result5)
head(result6)
str(result6)
result5=tapply(month(start),EVTYPE,sum)
head(result5)
opar <- par(no.readonly = TRUE)
# 화면을 2*2로 나눈다
par(mfrow = c(2, 1))
barplot(health$FATALITIES,col="red")
barplot(health$INJURIES)
par(opar)
library(ggplot)
install.packages("ggplot2")
library(ggplot2)
health
str(health)
colnames(health)
names(health)
rownames(health)
ggplot(health,aes(x=rownames(health),y=FATALITIES)) +gem_bar(stat="identity")
ggplot(health,aes(x=rownames(health),y=FATALITIES)) +geom_bar(stat="identity")
health
health$event=rownames(health)
health
ggplot(health,aes(x=event,y=FATALITIES)) +geom_bar(stat="identity")
ggplot(health,aes(y=FATALITIES)) +geom_bar(stat="identity")
ggplot(health,aes(x=event,y=FATALITIES)) +geom_bar(stat="identity")
qplot(health$FALTALITIES,geom="bar",stat="identity")
qplot(health$event,health$FALTALITIES,geom="bar",stat="identity")
qplot(health$FATALITIES,geom="bar",stat="identity")
qplot(health$event,health$FATALITIES,geom="bar",stat="identity")
colnames(health)
rownames(health)
health$event=factor(rownames(health),levels=rownames(health))
health
qplot(health$event,health$FATALITIES,geom="bar",stat="identity")
ggplot(health,aes(x=event,y=FATALITIES)) +geom_bar(stat="identity")
opar <- par(no.readonly = TRUE)
# 화면을 2*2로 나눈다
par(mfrow = c(2, 1))
ggplot(health,aes(x=event,y=FATALITIES)) +geom_bar(stat="identity")
ggplot(health,aes(x=event,y=INJURIES)) +geom_bar(stat="identity")
par(opar)
opar <- par(no.readonly = TRUE)
# 화면을 2*2로 나눈다
par(mfrow = c(2, 1))
ggplot(health,aes(x=event,y=FATALITIES)) +geom_bar(stat="identity")
ggplot(health,aes(x=event,y=INJURIES)) +geom_bar(stat="identity")
par(opar)
opar <- par(no.readonly = TRUE)
# 화면을 2*2로 나눈다
par(mfrow = c(1, 2))
ggplot(health,aes(x=event,y=FATALITIES)) +geom_bar(stat="identity")
ggplot(health,aes(x=event,y=INJURIES)) +geom_bar(stat="identity")
par(opar)
library(lattice)
data(barley)
head(barley)
health
barchart(FATALITIES~event,data=health)
barchart(FATALITIES~event,data=health,scales=list(x=list(rot=45)))
barchart(INJURIES~event,data=health,scales=list(x=list(rot=45)))
health
opar <- par(no.readonly = TRUE)
# 화면을 2*2로 나눈다
par(mfrow = c(2, 1))
barchart(FATALITIES~event,data=health,scales=list(x=list(rot=45)))
barchart(INJURIES~event,data=health,scales=list(x=list(rot=45)))
par(opar)
View(health)
library(reshape)
health
meltedhealth=melt(health)
meltedhealth
meltedhealth=melt(health(,c(1,2,5)))
meltedhealth=melt(health[,c(1,2,5)],id="event")
meltedhealth
barchart(value~event|variable,data=meltedhealth,scales=list(x=list(rot=45)))
library(lattice)
barchart(value~event|variable,data=meltedhealth,scales=list(x=list(rot=45)))
barchart(value~event|variable,data=meltedhealth,layout=c(1,2),
scales=list(x=list(rot=45)))
barchart(value~event|variable,data=meltedhealth,layout=c(1,2),
scales=list(relation="free",x=list(rot=45)))
barchart(value~event|variable,data=meltedhealth,layout=c(1,2),ylab=""
scales=list(relation="free",x=list(rot=45)))
barchart(value~event|variable,data=meltedhealth,layout=c(1,2),ylab="",
scales=list(relation="free",x=list(rot=45)))
meltedhealth=melt(health,id="event")
meltedhealth
barchart(value~event|variable,data=meltedhealth,ylab="",
scales=list(relation="free",x=list(rot=45)))
barchart(value~event|variable,data=meltedhealth[1:20,],ylab="",
scales=list(relation="free",x=list(rot=45)))
barchart(value~event|variable,data=meltedhealth[1:20,],ylab="",layout=c(1,2),
scales=list(relation="free",x=list(rot=45)))
barchart(value~event|variable,data=meltedhealth[1:20,],ylab="",
scales=list(relation="free",x=list(rot=45)),col=c("red","blue"))
barchart(value~event|variable,data=meltedhealth[1:20,],ylab="",
scales=list(relation="free",x=list(rot=45)),
col=c(rep("red",10),rep("blue",10)))
barchart(value~event|variable,data=meltedhealth[1:20,],ylab="",
scales=list(relation="free",x=list(rot=45)),
col=c(rep("red",5),rep("blue",5)))
barchart(value~event|variable,data=meltedhealth[21:40,],ylab="",layout=c(1,2),
scales=list(relation="free",x=list(rot=45)))
barchart(value~event|variable,data=meltedhealth[21:40,],ylab="",
scales=list(relation="free",x=list(rot=45)))
barchart(value~event|variable,data=meltedhealth[21:40,],ylab="",
scales=list(x=list(rot=45)))
barchart(value~event/1000|variable,data=meltedhealth[21:40,],ylab="",
scales=list(x=list(rot=45)))
barchart(value/1000~event|variable,data=meltedhealth[21:40,],ylab="",
scales=list(x=list(rot=45)))
